// Generated by CoffeeScript 1.6.3
(function() {
  var __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

  define(['event-bus'], function(EventBus) {
    var HEADER_PADDING, MainApp, MainPage, MainRouter, app, _ref, _ref1, _ref2;
    HEADER_PADDING = 45;
    MainApp = (function(_super) {
      __extends(MainApp, _super);

      function MainApp() {
        _ref = MainApp.__super__.constructor.apply(this, arguments);
        return _ref;
      }

      return MainApp;

    })(Backbone.Marionette.Application);
    app = new MainApp;
    app.addInitializer(function() {
      var router;
      router = new MainRouter;
      return Backbone.history.start({
        root: '/',
        pushState: true
      });
    });
    MainRouter = (function(_super) {
      __extends(MainRouter, _super);

      function MainRouter() {
        _ref1 = MainRouter.__super__.constructor.apply(this, arguments);
        return _ref1;
      }

      MainRouter.prototype.routes = {
        '/': 'loadHome'
      };

      MainRouter.prototype.initialize = function() {
        return this.mainPage = new MainPage;
      };

      MainRouter.prototype.loadHome = function() {
        return this.mainPage.load();
      };

      return MainRouter;

    })(Backbone.Router);
    return MainPage = (function(_super) {
      __extends(MainPage, _super);

      function MainPage() {
        _ref2 = MainPage.__super__.constructor.apply(this, arguments);
        return _ref2;
      }

      MainPage.prototype.el = 'body';

      MainPage.prototype.load = function() {
        console.log('marionette layout loaded');
        EventBus.trigger('layout loaded');
        return $(document).ready(function() {
          return console.log('jquery loaded');
        });
      };

      return MainPage;

    })(Backbone.Marionette.Layout);
  });

}).call(this);
